<div class="form-group">
  <div class="password-header">
    <label [for]="labelFor" class="form-label">{{ label }}</label>
    <button
      *ngIf="showForgotLink"
      type="button"
      class="forgot-link"
      (click)="onForgot()"
    >
      Forgot
    </button>
  </div>
  <div class="password-input-wrapper">
    <app-input
      labelFor="password"
      [type]="show() ? 'text' : 'password'"
      [control]="control"
      autocomplete="current-password"
      [customErrorMessages]="{
        required: 'Password is required',
      }"
    ></app-input>

    <button
      type="button"
      class="password-toggle"
      (click)="toggleVisisbility()"
      [attr.aria-label]="show() ? 'Hide password' : 'Show password'"
    >
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
        @if (!show()) {
        <path
          d="M12 5C7.5 5 3.73 7.61 2 12C3.73 16.39 7.5 19 12 19S20.27 16.39 22 12C20.27 7.61 16.5 5 12 5ZM12 17C9.24 17 7 14.76 7 12S9.24 7 12 7S17 9.24 17 12S14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12S10.34 15 12 15S15 13.66 15 12S13.66 9 12 9Z"
          fill="currentColor"
        />
        } @else {
        <path
          d="M2 4L20 22L18.5 23.5L15.5 20.5C14.4 20.8 13.2 21 12 21C7.5 21 3.73 18.39 2 14C2.83 12.15 4.24 10.64 6 9.64L2.5 6.1L2 4ZM12 19C13.2 19 14.34 18.78 15.42 18.42L14.42 17.42C13.66 17.78 12.87 18 12 18C9.24 18 7 15.76 7 13C7 12.13 7.22 11.34 7.58 10.58L6.58 9.58C5.61 10.25 4.86 11.15 4.42 12.18C5.61 15.25 8.58 17.5 12 17.5V19ZM12 7C14.76 7 17 9.24 17 12C17 12.87 16.78 13.66 16.42 14.42L15.42 13.42C15.78 12.87 16 12.13 16 12C16 10.34 14.66 9 13 9C12.87 9 12.13 9.22 11.58 9.58L10.58 8.58C11.34 8.22 12.13 8 13 8H12V7Z"
          fill="currentColor"
        />
        }
      </svg>
    </button>
  </div>
</div>
